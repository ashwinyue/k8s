# React 开发环境配置指南

## 🛠️ 必备工具安装

### 1. Node.js 安装

#### 方式一：官网下载（推荐新手）
1. 访问 [Node.js官网](https://nodejs.org/)
2. 下载LTS版本（长期支持版）
3. 运行安装包，按提示安装

#### 方式二：使用nvm管理（推荐开发者）
```bash
# 安装nvm (Node Version Manager)
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash

# 重启终端或执行
source ~/.bashrc

# 安装最新LTS版本的Node.js
nvm install --lts
nvm use --lts

# 查看已安装版本
nvm list
```

#### 验证安装
```bash
node --version    # 应显示 v18.x.x 或更高版本
npm --version     # 应显示 9.x.x 或更高版本
```

### 2. 包管理器选择

#### npm（Node.js自带）
```bash
# 升级npm到最新版本
npm install -g npm@latest

# 配置npm镜像（可选，提高下载速度）
npm config set registry https://registry.npmmirror.com
```

#### yarn（推荐）
```bash
# 安装yarn
npm install -g yarn

# 验证安装
yarn --version

# 配置yarn镜像
yarn config set registry https://registry.npmmirror.com
```

#### pnpm（性能最佳）
```bash
# 安装pnpm
npm install -g pnpm

# 验证安装
pnpm --version

# 配置pnpm镜像
pnpm config set registry https://registry.npmmirror.com
```

### 3. 代码编辑器配置

#### VS Code（强烈推荐）

**必装扩展：**
```json
{
  "recommendations": [
    "ms-vscode.vscode-typescript-next",
    "bradlc.vscode-tailwindcss",
    "esbenp.prettier-vscode",
    "ms-vscode.vscode-eslint",
    "formulahendry.auto-rename-tag",
    "christian-kohler.path-intellisense",
    "ms-vscode.vscode-json",
    "ms-vscode.vscode-css",
    "ms-vscode.vscode-html",
    "ms-vscode.vscode-javascript",
    "ms-vscode.vscode-react-native",
    "ms-vscode.vscode-typescript"
  ]
}
```

**VS Code配置文件 (.vscode/settings.json)：**
```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "emmet.includeLanguages": {
    "javascript": "javascriptreact",
    "typescript": "typescriptreact"
  },
  "files.associations": {
    "*.jsx": "javascriptreact",
    "*.tsx": "typescriptreact"
  },
  "typescript.preferences.importModuleSpecifier": "relative",
  "javascript.preferences.importModuleSpecifier": "relative"
}
```

## 🚀 创建React项目

### 方式一：Create React App（传统方式）
```bash
# 创建新项目
npx create-react-app my-app
cd my-app

# 启动开发服务器
npm start
```

### 方式二：Vite（推荐，更快）
```bash
# 创建新项目
npm create vite@latest my-react-app -- --template react
# 或使用TypeScript模板
npm create vite@latest my-react-app -- --template react-ts

cd my-react-app
npm install
npm run dev
```

### 方式三：Next.js（全栈框架）
```bash
# 创建Next.js项目
npx create-next-app@latest my-next-app
cd my-next-app
npm run dev
```

## ⚙️ 开发工具配置

### 1. ESLint配置

**安装ESLint：**
```bash
npm install --save-dev eslint @eslint/js @types/eslint__js typescript typescript-eslint
```

**eslint.config.js：**
```javascript
import js from '@eslint/js'
import tseslint from 'typescript-eslint'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import globals from 'globals'

export default tseslint.config(
  { ignores: ['dist'] },
  {
    extends: [js.configs.recommended, ...tseslint.configs.recommended],
    files: ['**/*.{ts,tsx}'],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
    plugins: {
      'react-hooks': reactHooks,
      'react-refresh': reactRefresh,
    },
    rules: {
      ...reactHooks.configs.recommended.rules,
      'react-refresh/only-export-components': [
        'warn',
        { allowConstantExport: true },
      ],
    },
  },
)
```

### 2. Prettier配置

**安装Prettier：**
```bash
npm install --save-dev prettier
```

**.prettierrc：**
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false,
  "bracketSpacing": true,
  "arrowParens": "avoid",
  "endOfLine": "lf"
}
```

**.prettierignore：**
```
dist
build
node_modules
*.min.js
*.min.css
```

### 3. Git配置

**.gitignore：**
```
# 依赖
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# 构建输出
dist/
build/

# 环境变量
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# IDE
.vscode/
.idea/
*.swp
*.swo

# 操作系统
.DS_Store
Thumbs.db

# 日志
logs
*.log

# 临时文件
*.tmp
*.temp
```

**Git Hooks（可选）：**
```bash
# 安装husky和lint-staged
npm install --save-dev husky lint-staged

# 初始化husky
npx husky init

# 添加pre-commit hook
echo "npx lint-staged" > .husky/pre-commit
```

**package.json中添加：**
```json
{
  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{css,scss,md}": [
      "prettier --write"
    ]
  }
}
```

## 🔧 常用开发脚本

**package.json scripts：**
```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "lint:fix": "eslint . --ext ts,tsx --fix",
    "format": "prettier --write \"src/**/*.{js,jsx,ts,tsx,css,scss,md}\"",
    "type-check": "tsc --noEmit",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage"
  }
}
```

## 🌐 浏览器开发工具

### React Developer Tools
1. **Chrome扩展**：在Chrome Web Store搜索"React Developer Tools"
2. **Firefox扩展**：在Firefox Add-ons搜索"React Developer Tools"

### Redux DevTools（如果使用Redux）
1. 安装浏览器扩展
2. 在代码中配置：
```javascript
const store = configureStore({
  reducer: rootReducer,
  devTools: process.env.NODE_ENV !== 'production',
});
```

## 📱 移动端开发工具

### React Native（可选）
```bash
# 安装React Native CLI
npm install -g @react-native-community/cli

# 创建React Native项目
npx react-native init MyApp
```

### Expo（推荐移动端开发）
```bash
# 安装Expo CLI
npm install -g @expo/cli

# 创建Expo项目
npx create-expo-app MyApp
cd MyApp
npx expo start
```

## 🚀 性能优化工具

### Bundle分析
```bash
# 安装bundle analyzer
npm install --save-dev webpack-bundle-analyzer

# 分析bundle
npm run build
npx webpack-bundle-analyzer build/static/js/*.js
```

### Lighthouse（性能测试）
1. Chrome DevTools中的Lighthouse面板
2. 或安装CLI版本：
```bash
npm install -g lighthouse
lighthouse http://localhost:3000
```

## 🔍 调试工具

### Chrome DevTools
- **Elements**：检查DOM和CSS
- **Console**：查看日志和错误
- **Sources**：断点调试
- **Network**：监控网络请求
- **Performance**：性能分析

### VS Code调试配置
**.vscode/launch.json：**
```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Launch Chrome",
      "request": "launch",
      "type": "chrome",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/src",
      "sourceMapPathOverrides": {
        "webpack:///src/*": "${webRoot}/*"
      }
    }
  ]
}
```

## 📚 推荐的开发流程

1. **项目初始化**
   ```bash
   npm create vite@latest my-app -- --template react-ts
   cd my-app
   npm install
   ```

2. **配置开发工具**
   - 安装ESLint和Prettier
   - 配置VS Code扩展
   - 设置Git hooks

3. **开始开发**
   ```bash
   npm run dev
   ```

4. **代码质量检查**
   ```bash
   npm run lint
   npm run format
   npm run type-check
   ```

5. **构建和部署**
   ```bash
   npm run build
   npm run preview
   ```

---

**配置完成后，你就拥有了一个现代化的React开发环境！🎉**