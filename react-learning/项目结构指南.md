# React 项目结构指南

## 📁 推荐的项目结构

### 小型项目结构
```
my-react-app/
├── public/
│   ├── index.html
│   ├── favicon.ico
│   └── manifest.json
├── src/
│   ├── components/
│   │   ├── Header/
│   │   │   ├── Header.jsx
│   │   │   ├── Header.css
│   │   │   └── index.js
│   │   └── Footer/
│   │       ├── Footer.jsx
│   │       ├── Footer.css
│   │       └── index.js
│   ├── pages/
│   │   ├── Home/
│   │   │   ├── Home.jsx
│   │   │   └── Home.css
│   │   └── About/
│   │       ├── About.jsx
│   │       └── About.css
│   ├── hooks/
│   │   ├── useLocalStorage.js
│   │   └── useFetch.js
│   ├── utils/
│   │   ├── helpers.js
│   │   └── constants.js
│   ├── styles/
│   │   ├── globals.css
│   │   └── variables.css
│   ├── App.jsx
│   ├── App.css
│   └── index.js
├── package.json
├── package-lock.json
└── README.md
```

### 中大型项目结构
```
my-react-app/
├── public/
│   ├── index.html
│   ├── favicon.ico
│   ├── manifest.json
│   └── assets/
│       ├── images/
│       └── icons/
├── src/
│   ├── components/
│   │   ├── ui/                    # 基础UI组件
│   │   │   ├── Button/
│   │   │   ├── Input/
│   │   │   ├── Modal/
│   │   │   └── Loading/
│   │   ├── layout/                # 布局组件
│   │   │   ├── Header/
│   │   │   ├── Sidebar/
│   │   │   ├── Footer/
│   │   │   └── Layout/
│   │   └── features/              # 功能组件
│   │       ├── UserProfile/
│   │       ├── ProductList/
│   │       └── ShoppingCart/
│   ├── pages/                     # 页面组件
│   │   ├── Home/
│   │   ├── Products/
│   │   ├── Profile/
│   │   └── NotFound/
│   ├── hooks/                     # 自定义Hooks
│   │   ├── useAuth.js
│   │   ├── useApi.js
│   │   ├── useLocalStorage.js
│   │   └── useDebounce.js
│   ├── context/                   # Context提供者
│   │   ├── AuthContext.js
│   │   ├── ThemeContext.js
│   │   └── CartContext.js
│   ├── services/                  # API服务
│   │   ├── api.js
│   │   ├── authService.js
│   │   ├── userService.js
│   │   └── productService.js
│   ├── store/                     # 状态管理
│   │   ├── index.js
│   │   ├── authSlice.js
│   │   ├── userSlice.js
│   │   └── productSlice.js
│   ├── utils/                     # 工具函数
│   │   ├── helpers.js
│   │   ├── validators.js
│   │   ├── formatters.js
│   │   └── constants.js
│   ├── styles/                    # 全局样式
│   │   ├── globals.css
│   │   ├── variables.css
│   │   ├── mixins.css
│   │   └── reset.css
│   ├── assets/                    # 静态资源
│   │   ├── images/
│   │   ├── icons/
│   │   └── fonts/
│   ├── types/                     # TypeScript类型定义
│   │   ├── user.ts
│   │   ├── product.ts
│   │   └── api.ts
│   ├── __tests__/                 # 测试文件
│   │   ├── components/
│   │   ├── pages/
│   │   └── utils/
│   ├── App.jsx
│   ├── App.css
│   └── index.js
├── .env                           # 环境变量
├── .env.local
├── .gitignore
├── package.json
├── package-lock.json
├── README.md
└── vite.config.js                 # 构建配置
```

## 📋 目录说明

### 核心目录

#### `src/components/`
存放所有React组件，建议按功能分类：
- **ui/**: 基础UI组件（Button、Input、Modal等）
- **layout/**: 布局相关组件（Header、Footer、Sidebar等）
- **features/**: 业务功能组件

#### `src/pages/`
存放页面级组件，通常对应路由：
- 每个页面一个文件夹
- 包含页面组件和相关样式

#### `src/hooks/`
自定义React Hooks：
- 复用逻辑的封装
- 状态管理逻辑
- API调用逻辑

#### `src/services/`
API服务和外部服务调用：
- HTTP请求封装
- 第三方服务集成
- 数据处理逻辑

#### `src/utils/`
工具函数和常量：
- 纯函数工具
- 常量定义
- 辅助函数

### 状态管理目录

#### `src/context/` (使用Context API)
```javascript
// AuthContext.js
import { createContext, useContext, useReducer } from 'react';

const AuthContext = createContext();

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within AuthProvider');
  }
  return context;
};

export const AuthProvider = ({ children }) => {
  // 状态管理逻辑
  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};
```

#### `src/store/` (使用Redux Toolkit)
```javascript
// store/index.js
import { configureStore } from '@reduxjs/toolkit';
import authSlice from './authSlice';
import userSlice from './userSlice';

export const store = configureStore({
  reducer: {
    auth: authSlice,
    user: userSlice,
  },
});
```

## 🎯 组件组织原则

### 1. 单一职责原则
每个组件只负责一个功能：
```javascript
// ❌ 不好的例子
function UserDashboard() {
  // 用户信息、订单列表、设置面板都在一个组件里
}

// ✅ 好的例子
function UserDashboard() {
  return (
    <div>
      <UserProfile />
      <OrderList />
      <SettingsPanel />
    </div>
  );
}
```

### 2. 组件文件结构
每个组件文件夹包含：
```
Button/
├── Button.jsx          # 组件主文件
├── Button.test.js      # 测试文件
├── Button.stories.js   # Storybook故事
├── Button.module.css   # 样式文件
└── index.js           # 导出文件
```

### 3. 导入导出规范
```javascript
// index.js - 统一导出
export { default } from './Button';
export * from './Button';

// 使用时
import Button from 'components/ui/Button';
```

## 🔧 配置文件

### 环境变量 (.env)
```bash
# API配置
REACT_APP_API_URL=http://localhost:3001/api
REACT_APP_API_KEY=your-api-key

# 功能开关
REACT_APP_ENABLE_ANALYTICS=true
REACT_APP_DEBUG_MODE=false
```

### 路径别名配置
```javascript
// vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
      '@components': path.resolve(__dirname, './src/components'),
      '@pages': path.resolve(__dirname, './src/pages'),
      '@utils': path.resolve(__dirname, './src/utils'),
      '@hooks': path.resolve(__dirname, './src/hooks'),
      '@services': path.resolve(__dirname, './src/services'),
    },
  },
});
```

## 📝 命名规范

### 文件命名
- **组件文件**: PascalCase (UserProfile.jsx)
- **工具文件**: camelCase (formatDate.js)
- **常量文件**: UPPER_SNAKE_CASE (API_ENDPOINTS.js)
- **样式文件**: kebab-case (user-profile.css)

### 组件命名
```javascript
// ✅ 好的命名
function UserProfileCard() {}
function ProductListItem() {}
function ShoppingCartButton() {}

// ❌ 避免的命名
function Component1() {}
function Data() {}
function Thing() {}
```

## 🧪 测试结构
```
__tests__/
├── components/
│   ├── ui/
│   │   └── Button.test.js
│   └── layout/
│       └── Header.test.js
├── pages/
│   └── Home.test.js
├── hooks/
│   └── useAuth.test.js
└── utils/
    └── helpers.test.js
```

## 💡 最佳实践

1. **保持目录结构简洁**：不要过度嵌套
2. **使用绝对路径**：配置路径别名避免相对路径
3. **组件复用**：提取可复用的UI组件
4. **分离关注点**：业务逻辑、UI逻辑、样式分离
5. **统一导出**：使用index.js文件统一导出
6. **文档化**：为复杂组件添加注释和文档

---

这个结构可以根据项目规模和团队需求进行调整，关键是保持一致性和可维护性！